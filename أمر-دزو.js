const fs = require("fs");
const path = require("path");

module.exports = {
  command: "ุฏุฒู",
  description: "ุฑุฏ ุณุงุฎุฑ ุนูู ูููุฉ ุฏุฒ",
  usage: ".ุฏุฒ",
  category: "fun",

  async execute(sock, msg) {
    try {
      const replies = [
        "ูุชุฏุฒ ุงูุช ูู ุนู! ููุง ุนุดุงู ุฃูุง ุนูููุ ๐",
        "ูุฏุฒ ุฏุฒ ูุฎูุงุตุ ูุชุฏุฒ ุจุนูุฏ ุนููุง ูุฏู ๐จ",
        "ููุด ุงูุช ูู ุนูุ ุงุชููู ูุตุฑู ูููู ูุด๐ฟ",
        "ูุฏุฒ ุนูู ุฑุงุณู! ูุงูุฑ ููุณู ููู ุงููุงูููุ ๐คจ",
        "ุฏูุฒุ ุฏุฒ ุนูู ุจุงุจ ุจูุชูู ุจุงููุฑุฉ ๐งน",
        "ุดููู ูุงุถู ูุง ุนูุ ุฑูุญ ุจูู ูุงู  ๐ด",
        "ูุฏุฒ ุฅููุ ุฏุฒ ููุณู ู ูุงู ุจุฏุฑู ูุฃู ุงูุนูุงู ุงูุตุบูุฑู ุชูุงู ุจุฏุฑู๐ฆโโฌ๐ค",
        "ุฏูุฒุ ุฏุฒ ุงูุช ู ุนู ู ุงูุนุจ ุจุนูุฏ ุนู ุนูู ๐",
        "ุฏุฒุ ูู ุงุญูุง ูู ุณุจุงู ุฌูุงู ููุง ุฅููุ ๐ธ",
        "ุงูุชุจ ุฌููุฉ ูููุฏุฉ ูุจู ูุง ุชุฏุฒุ ุงุญุชุฑู ุงููุบุฉ ูุง ููุฏู ๐",
        "ุฏุฒุช ุนูู ุฅูู ุทูุจุ ูุงููุด ุญุงุฌุฉ ุฃุตูุงู ๐",
        "ุฏุฒุ ุฏุงูุช ูุญุชุงุฌ ุชูุถุฑุจ ุจุงูุดุจุดุจ ูุด ุชุชุฑุฏ ุนููู ๐ฉด",
        "ููู ุฏุฒุ ูุงูุตู ุญุจ ูุงูุชูุงูุ ๐",
        "ุฏุฒ ูุจุชููุจ! ููุฑูู ุจูุณูุณูุงุช ุฑูุถุงู ๐",
        "ุฏู ุงูุช ูู ููุช ูุด ููุช ุฃุฑุญู ๐",
        "ููููุน ุงูุฏุฒ ุจุฏูู ุฑุฎุตุฉ ูู ุงูููู ๐",
        "ูู ูุฑุฉ ููุชูู ุฏุฒ ูุด ูููุฉ ุณุฑ ูุง ุณุจุงูุฏุฑูุงู ๐ท๏ธ",
        "ุฏุฒ ููุณู ุนูุฏ ูุญู ุงูุบุงุฒ ๐",
        "ุฑูุญ ุฐุงูุฑ ุจุฏู ูุง ุชุฏุฒุ ูููู ุชูุฌุญ ๐",
        "ุงููู ูุฏุฒ ุจุฏุฒ ุนููู ุถุนู! ๐ฅท",
        "ููุงูุฉ ุฏุฒ ุนุดุงู ุงูููุจูุฑุฏ ุงุดุชูู ููู ๐ง",
        "ุฏุฒ ูุฑุฉ ููุงู ููุจูุบ ุงูุดุฑุทุฉ ๐ฎโโ๏ธ",
        "ุฏุฒูู ูุง ุฃุฎู ูุฃููุง ูู ุณุงุญุฉ ูุนุฑูุฉ! ๐ช",
        "ุงููููุฉ ุฏู ูู ูุงูุช ุจุชูุณุจ ุฐูุจ ููุง ุฃุบููุงุก ุฏูููุชู ๐ช",
        "ุฎุฏูู ุฏุฒ ุนูู ุฏูุงุบู ูุงุฑุชุงุญ ๐งฑ",
        "ูู ููู ุฏุฒุ ูุนูู ูุงููุด ุชุทูุฑุ ๐",
        "ุฏุฒู ุฌุงู ูู ููุฉ ูุงุฑ ููุง ููุฉ ุบุณููุ ๐ฅ",
        "ุฏุฒู ุฏุง ูุด ุฏุฒุ ุฏุง ูุจุงุญ ุจุตูุช ูุงุทู ๐ถ",
        "ุฏุฒ ุฏุฒุ ุขุฎุฑูุง ุชุฑุฌุน ุชุจูู ู ุชููู ุขุณู ๐งป",
        "ุฅูุช ุจุชุฏุฒ ููุง ุจุชุณุฌู ุญุถูุฑุ ๐"
      ];

      const randomReply = replies[Math.floor(Math.random() * replies.length)];

      const boxedReply = `
โญโโ โข ๐ญ ุฑุฏ ูุฎู ุนูู "ุฏุฒ" โข โโโฎ
โ
โ ${randomReply}
โ
โฐโโโโโโโโโโโโโโโโโโโโโโโโโฏ`;

      const imagePath = path.join(__dirname, "../media/blue.jpg");
      const imageBuffer = fs.existsSync(imagePath) ? fs.readFileSync(imagePath) : null;

      await sock.sendMessage(msg.key.remoteJid, {
        text: boxedReply,
        contextInfo: {
          externalAdReply: {
            title: "๐ฏ ุฏุฒูู ููุงู ูุดูู!",
            body: "ุฑุฏ ูุฎู ุณุงุฎุฑ ูู KING BOT ๐",
            thumbnail: imageBuffer,
            mediaType: 1,
            sourceUrl: "https://t.me/KINGSLO1",
            renderLargerThumbnail: false,
            showAdAttribution: true
          }
        }
      }, { quoted: msg });

    } catch (error) {
      console.error("โ ุฎุทุฃ ูู ุฃูุฑ 'ุฏุฒู':", error);
      await sock.sendMessage(msg.key.remoteJid, {
        text: `โ ุญุตู ุฎุทุฃ:\n${error.message || error.toString()}`
      }, { quoted: msg });
    }
  }
};