module.exports = {
    command: 'Ø­Ù„_Ø¹Ù„Ù…',
    async execute(sock, m) {
        const chatId = m.key.remoteJid;
        const text = m.message.conversation || m.message.extendedTextMessage?.text;

        const countries = [
            { name: "Ù…ØµØ±", flag: "ğŸ‡ªğŸ‡¬" },
            { name: "Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©", flag: "ğŸ‡¸ğŸ‡¦" },
            { name: "ÙÙ„Ø³Ø·ÙŠÙ†", flag: "ğŸ‡µğŸ‡¸" },
            { name: "Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±", flag: "ğŸ‡©ğŸ‡¿" },
            { name: "Ø§Ù„Ù…ØºØ±Ø¨", flag: "ğŸ‡²ğŸ‡¦" },
            { name: "ØªÙˆÙ†Ø³", flag: "ğŸ‡¹ğŸ‡³" },
            { name: "Ù„Ø¨Ù†Ø§Ù†", flag: "ğŸ‡±ğŸ‡§" },
            { name: "Ø§Ù„Ø£Ø±Ø¯Ù†", flag: "ğŸ‡¯ğŸ‡´" },
            { name: "Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª", flag: "ğŸ‡¦ğŸ‡ª" },
            { name: "Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†", flag: "ğŸ‡§ğŸ‡­" },
            { name: "Ø§Ù„ÙƒÙˆÙŠØª", flag: "ğŸ‡°ğŸ‡¼" },
            { name: "Ù‚Ø·Ø±", flag: "ğŸ‡¶ğŸ‡¦" },
            { name: "Ø¹ÙÙ…Ø§Ù†", flag: "ğŸ‡´ğŸ‡²" },
            { name: "Ø§Ù„Ø¹Ø±Ø§Ù‚", flag: "ğŸ‡®ğŸ‡¶" },
            { name: "Ø³ÙˆØ±ÙŠØ§", flag: "ğŸ‡¸ğŸ‡¾" },
            { name: "Ø§Ù„ÙŠÙ…Ù†", flag: "ğŸ‡¾ğŸ‡ª" },
            { name: "Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø©", flag: "ğŸ‡ºğŸ‡¸" },
            { name: "Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©", flag: "ğŸ‡¬ğŸ‡§" },
            { name: "ÙØ±Ù†Ø³Ø§", flag: "ğŸ‡«ğŸ‡·" },
            { name: "Ø£Ù„Ù…Ø§Ù†ÙŠØ§", flag: "ğŸ‡©ğŸ‡ª" },
            { name: "Ø¥ÙŠØ·Ø§Ù„ÙŠØ§", flag: "ğŸ‡®ğŸ‡¹" },
            { name: "Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§", flag: "ğŸ‡ªğŸ‡¸" },
            { name: "Ø§Ù„Ø¨Ø±ØªØºØ§Ù„", flag: "ğŸ‡µğŸ‡¹" },
            { name: "ØªØ±ÙƒÙŠØ§", flag: "ğŸ‡¹ğŸ‡·" },
            { name: "Ø§Ù„ÙŠÙˆÙ†Ø§Ù†", flag: "ğŸ‡¬ğŸ‡·" },
            { name: "Ø£ÙˆÙƒØ±Ø§Ù†ÙŠØ§", flag: "ğŸ‡ºğŸ‡¦" },
            { name: "Ø±ÙˆØ³ÙŠØ§", flag: "ğŸ‡·ğŸ‡º" },
            { name: "Ø§Ù„ØµÙŠÙ†", flag: "ğŸ‡¨ğŸ‡³" },
            { name: "Ø§Ù„Ù‡Ù†Ø¯", flag: "ğŸ‡®ğŸ‡³" },
            { name: "ÙƒÙˆØ±ÙŠØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©", flag: "ğŸ‡°ğŸ‡·" },
            { name: "Ø§Ù„ÙŠØ§Ø¨Ø§Ù†", flag: "ğŸ‡¯ğŸ‡µ" },
            { name: "Ø¥Ù†Ø¯ÙˆÙ†ÙŠØ³ÙŠØ§", flag: "ğŸ‡®ğŸ‡©" },
            { name: "Ø§Ù„ÙÙ„Ø¨ÙŠÙ†", flag: "ğŸ‡µğŸ‡­" },
            { name: "Ù…Ø§Ù„ÙŠØ²ÙŠØ§", flag: "ğŸ‡²ğŸ‡¾" },
            { name: "Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§", flag: "ğŸ‡¦ğŸ‡º" },
            { name: "ÙƒÙ†Ø¯Ø§", flag: "ğŸ‡¨ğŸ‡¦" },
            { name: "Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„", flag: "ğŸ‡§ğŸ‡·" },
            { name: "Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†", flag: "ğŸ‡¦ğŸ‡·" },
            { name: "Ø§Ù„Ù…ÙƒØ³ÙŠÙƒ", flag: "ğŸ‡²ğŸ‡½" },
            { name: "Ø¬Ù†ÙˆØ¨ Ø£ÙØ±ÙŠÙ‚ÙŠØ§", flag: "ğŸ‡¿ğŸ‡¦" },
            { name: "Ù†ÙŠØ¬ÙŠØ±ÙŠØ§", flag: "ğŸ‡³ğŸ‡¬" },
            { name: "ÙƒÙŠÙ†ÙŠØ§", flag: "ğŸ‡°ğŸ‡ª" },
            { name: "Ø§Ù„Ø³ÙˆØ¯Ø§Ù†", flag: "ğŸ‡¸ğŸ‡©" },
            { name: "Ø¥Ø«ÙŠÙˆØ¨ÙŠØ§", flag: "ğŸ‡ªğŸ‡¹" },
            { name: "Ø§Ù„ØµÙˆÙ…Ø§Ù„", flag: "ğŸ‡¸ğŸ‡´" },
            { name: "ØªØ´Ø§Ø¯", flag: "ğŸ‡¹ğŸ‡©" },
            { name: "Ù„ÙŠØ¨ÙŠØ§", flag: "ğŸ‡±ğŸ‡¾" },
            { name: "Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§", flag: "ğŸ‡²ğŸ‡·" },
            { name: "Ø¬ÙŠØ¨ÙˆØªÙŠ", flag: "ğŸ‡©ğŸ‡¯" }
        ];

        const regex = /ğŸŒ Ø®Ù…Ù† Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆÙ„Ø© Ù…Ù† Ø§Ù„Ø¹Ù„Ù… Ø§Ù„ØªØ§Ù„ÙŠ:\s*(\p{Emoji}+)/u;
        const match = text.match(regex);

        if (!match) {
            await sock.sendMessage(chatId, {
                text: "âŒ Ù„Ù… Ø£ØªÙ…ÙƒÙ† Ù…Ù† Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¹Ù„Ù… Ù…Ù† Ø§Ù„Ø±Ø³Ø§Ù„Ø©.\nØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ÙƒØªØ¨Øª Ø§Ù„Ø£Ù…Ø± Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø´ÙƒÙ„:\n`.Ø­Ù„_Ø¹Ù„Ù… ğŸŒ Ø®Ù…Ù† Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆÙ„Ø© Ù…Ù† Ø§Ù„Ø¹Ù„Ù… Ø§Ù„ØªØ§Ù„ÙŠ: ğŸ‡«ğŸ‡·`"
            });
            return;
        }

        const flag = match[1];

        const country = countries.find(c => c.flag === flag);

        if (!country) {
            await sock.sendMessage(chatId, {
                text: "âŒ Ù„Ù… Ø£Ø¬Ø¯ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù„Ù… ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.\nØªØ£ÙƒØ¯ Ø£Ù†Ùƒ Ù†Ø³Ø®Øª Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙƒØ§Ù…Ù„Ø© Ø²ÙŠ Ù…Ø§ ÙˆØµÙ„Øª Ù…Ù† Ø£Ù…Ø± `.Ø¹Ù„Ù…` Ø¨Ø§Ù„Ø¶Ø¨Ø·."
            });
            return;
        }

        await sock.sendMessage(chatId, {
            text: `âœ… Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆÙ„Ø© Ù‡Ùˆ: *${country.name}*`
        });
    }
};